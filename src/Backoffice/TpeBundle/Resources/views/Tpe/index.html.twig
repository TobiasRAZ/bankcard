{% extends 'backoffice.html.twig' %}

{% block content %}

 

<div class="row">
    <div class="col-lg-12">
      <table id="dtBasicExample" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
    <tr>
      <th class="th-sm">IMEI
        <i class="fa fa-sort float-right" aria-hidden="true"></i>
      </th>
      <th class="th-sm">MAC
        <i class="fa fa-sort float-right" aria-hidden="true"></i>
      </th>
      <th class="th-sm">STATUT
        <i class="fa fa-sort float-right" aria-hidden="true"></i>
      </th>
      <th class="th-sm">ACTIONS
        <i class="fa fa-sort float-right" aria-hidden="true"></i>
      </th>
    
      
    </tr>
  </thead>
  <tbody>
      {% for tpeinfo in tpelist%}
          <tr>
            <td>
              {{tpeinfo.imei}}
            </td>

            <td>
              {{tpeinfo.mac}}
            </td>
            <!-- <td><button class="btn btn-success btn-lg"> Activer</button></td> -->

            {% if tpeinfo.active != true %}
              <td>
                <a data-toggle="modal" href="#activation{{tpeinfo.id}}" class="btn btn-primary btn-sm btn-lg">
                    <!-- <i class="glyphicon glyphicon-trash"></i> -->
                    Activer
                </a>
              </td>
            {% else %}
              <td>
                <a data-toggle="modal" href="#desactivation{{tpeinfo.id}}" class="btn btn-danger btn-sm btn-lg">
                    <!-- <i class="glyphicon glyphicon-trash"></i> -->
                    Desactiver
                </a>
              </td>
              
            {% endif %}

            <td>

              <a href="{{ path('tpe_edit', {'id': tpeinfo.id} ) }}" class="btn btn-success btn-sm btn-lg" >
                Editer
              </a>

              <a data-toggle="modal" href="#remove{{tpeinfo.id}}" class="btn btn-danger">
                  <!-- <i class="glyphicon glyphicon-trash"></i> -->
                  Supprimer
              </a>

              {% include 'modal/confirmation.html.twig' with  {'id': tpeinfo.id, 'path': 'delete_tpe', 'message': 'Etes-vous sur de vouloir supprimer ce TPE ?', 'modal': 'remove' ~ tpeinfo.id } %}


              {% include 'modal/confirmation.html.twig' with  {'id': tpeinfo.id, 'path': 'activate_tpe', 'message': 'Etes-vous sur de vouloir activer ce TPE ?', 'modal': 'activation' ~ tpeinfo.id } %}

              {% include 'modal/confirmation.html.twig' with  {'id': tpeinfo.id, 'path': 'desactivate_tpe', 'message': 'Etes-vous sur de vouloir d√©sactiver ce TPE ?', 'modal': 'desactivation' ~ tpeinfo.id } %}

            </td>


          </tr>
      {% endfor %}

  </tbody>

</table>
    </div>
</div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript">
        $('[data-toggle="confirmation"][data-message]').on('click', function (event) {
            var message = $(this).data('message');

            return confirm(message) || event.preventDefault();
        });
    </script>
{% endblock %}
