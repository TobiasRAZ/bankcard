{% extends 'backoffice.html.twig' %}

{% block content %}

 

<div class="row">
    <div class="col-lg-12">
      <table id="dtBasicExample" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
    <tr>
      <th class="th-sm">IMEI
        <i class="fa fa-sort float-right" aria-hidden="true"></i>
      </th>
      <th class="th-sm">MAC
        <i class="fa fa-sort float-right" aria-hidden="true"></i>
      </th>
      <th class="th-sm">STATUT
        <i class="fa fa-sort float-right" aria-hidden="true"></i>
      </th>
      <th class="th-sm">ACTIONS
        <i class="fa fa-sort float-right" aria-hidden="true"></i>
      </th>
    
      
    </tr>
  </thead>
  <tbody>
      {% for tpeinfo in tpelist%}
          <tr>
            <td>
              {{tpeinfo.imei}}
            </td>

            <td>
              {{tpeinfo.mac}}
            </td>
            <!-- <td><button class="btn btn-success btn-lg"> Activer</button></td> -->

            {% if tpeinfo.active != true %}
              <td><a data-toggle="confirmation" data-message="Voulez-vous activer ce TPE ?" href="{{ path('activate_tpe', {'id': tpeinfo.id} ) }}" class="btn btn-primary btn-sm btn-lg" >Activer</a></td>
            {% else %}
              <td><a data-toggle="confirmation" data-message="Voulez-vous dÃ©sactiver ce TPE ?" href="{{ path('desactivate_tpe', {'id': tpeinfo.id} ) }}" class="btn btn-danger btn-sm btn-lg" >Desactiver</a></td>
              
            {% endif %}

            <td>
              <a data-toggle="confirmation" data-message="Voulez-vous supprimer ce TPE ?" href="{{ path('delete_tpe', {'id': tpeinfo.id} ) }}" class="btn btn-danger btn-sm btn-lg" >
                Supprimer
              </a>

              <a href="{{ path('tpe_edit', {'id': tpeinfo.id} ) }}" class="btn btn-success btn-sm btn-lg" >
                Editer
              </a>
            </td>


          </tr>
      {% endfor %}

  </tbody>

</table>
    </div>
</div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript">
        $('[data-toggle="confirmation"][data-message]').on('click', function (event) {
            var message = $(this).data('message');

            return confirm(message) || event.preventDefault();
        });
    </script>
{% endblock %}
